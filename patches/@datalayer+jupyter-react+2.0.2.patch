diff --git a/node_modules/@datalayer/jupyter-react/lib/components/kernel/KernelActionMenu.js b/node_modules/@datalayer/jupyter-react/lib/components/kernel/KernelActionMenu.js
index 30a3e63..3b4bd26 100644
--- a/node_modules/@datalayer/jupyter-react/lib/components/kernel/KernelActionMenu.js
+++ b/node_modules/@datalayer/jupyter-react/lib/components/kernel/KernelActionMenu.js
@@ -8,14 +8,29 @@ import { ActionMenu, ActionList, IconButton } from '@primer/react';
 import { KebabHorizontalIcon, StopIcon, PaintbrushIcon, } from '@primer/octicons-react';
 import { RestartIcon } from '@datalayer/icons-react';
 export const KernelActionMenu = (props) => {
-    const { kernel, outputAdapter } = props;
-    return (_jsxs(ActionMenu, { children: [_jsx(ActionMenu.Anchor, { children: _jsx(IconButton, { "aria-labelledby": "", icon: KebabHorizontalIcon, variant: "invisible" }) }), _jsx(ActionMenu.Overlay, { children: _jsxs(ActionList, { children: [kernel && (_jsxs(ActionList.Item, { onSelect: e => {
-                                kernel.interrupt();
-                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(StopIcon, {}) }), "Interrupt kernel"] })), kernel && (_jsxs(ActionList.Item, { onSelect: e => {
-                                kernel.restart();
-                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(RestartIcon, {}) }), "Restart kernel"] })), outputAdapter && (_jsxs(ActionList.Item, { variant: "danger", onSelect: e => {
-                                outputAdapter.clear();
-                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(PaintbrushIcon, {}) }), "Clear outputs"] }))] }) })] }));
+    const { kernel, outputAdapter, onClearOutputs } = props;
+    return (_jsxs(ActionMenu, { children: [_jsx(ActionMenu.Anchor, { children: _jsx(IconButton, { "aria-labelledby": "", icon: KebabHorizontalIcon, variant: "invisible" }) }), _jsx(ActionMenu.Overlay, { children: _jsxs(ActionList, { children: [_jsxs(ActionList.Item, { disabled: !kernel, onSelect: e => {
+                                if (kernel) {
+                                    kernel.interrupt();
+                                }
+                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(StopIcon, {}) }), "Interrupt kernel"] }), _jsxs(ActionList.Item, { disabled: !kernel, onSelect: e => {
+                                if (kernel) {
+                                    kernel.restart();
+                                }
+                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(RestartIcon, {}) }), "Restart kernel"] }), _jsxs(ActionList.Item, { variant: "danger", disabled: false, onSelect: e => {
+                                console.log('[KernelActionMenu] Clear outputs clicked - onClearOutputs:', !!onClearOutputs, 'outputAdapter:', !!outputAdapter);
+                                if (onClearOutputs) {
+                                    console.log('[KernelActionMenu] Calling onClearOutputs callback');
+                                    onClearOutputs();
+                                }
+                                else if (outputAdapter) {
+                                    console.log('[KernelActionMenu] Calling outputAdapter.clear()');
+                                    outputAdapter.clear();
+                                }
+                                else {
+                                    console.warn('[KernelActionMenu] No clear method available!');
+                                }
+                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(PaintbrushIcon, {}) }), "Clear outputs"] })] }) })] }));
 };
 export default KernelActionMenu;
 //# sourceMappingURL=KernelActionMenu.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-react/lib/components/output/Output.js b/node_modules/@datalayer/jupyter-react/lib/components/output/Output.js
index e43c343..fc558fc 100644
--- a/node_modules/@datalayer/jupyter-react/lib/components/output/Output.js
+++ b/node_modules/@datalayer/jupyter-react/lib/components/output/Output.js
@@ -133,35 +133,118 @@ export const Output = ({ adapter: propsAdapter, autoRun = false, clearTrigger =
             adapter.clear();
         }
     }, [clearTrigger, adapter]);
+    useEffect(() => {
+        console.log('[Output] KernelActionMenu render state - adapter:', !!adapter, 'kernel:', !!kernel, 'showControl:', showControl);
+    }, [adapter, kernel, showControl]);
+    const handleClearOutputs = () => {
+        console.log('[Output] handleClearOutputs called - adapter:', !!adapter, 'propsAdapter:', !!propsAdapter, 'outputs length:', outputs?.length);
+        // Use same logic as rendering: check both adapter and propsAdapter
+        const currentAdapter = adapter || propsAdapter;
+        if (currentAdapter) {
+            console.log('[Output] Calling currentAdapter.clear()');
+            currentAdapter.clear();
+        }
+        else {
+            console.log('[Output] No adapter, clearing outputs state directly');
+            // If no adapter, clear outputs state directly
+            setOutputs([]);
+        }
+    };
     return (_jsxs(_Fragment, { children: [showEditor && adapter && id && (_jsx(Box, { sx: {
                     '& .cm-editor': {
                         borderRadius: '5px',
                     },
-                }, children: _jsx(CodeMirrorEditor, { autoRun: autoRun, code: code, codePre: codePre, disableRun: disableRun, insertText: insertText, kernel: kernel, outputAdapter: adapter, sourceId: id, toolbarPosition: toolbarPosition }) })), adapter && (_jsxs(Box, { display: "flex", children: [_jsx(Box, { flexGrow: 1, children: kernel && kernelStatus !== 'idle' && showKernelProgressBar && (_jsx(KernelProgressBar, {})) }), showControl && (_jsx(Box, { style: { marginTop: '-13px' }, children: _jsx(KernelActionMenu, { kernel: kernel, outputAdapter: adapter }) }))] })), outputs && (_jsx(Box, { sx: {
+                }, children: _jsx(CodeMirrorEditor, { autoRun: autoRun, code: code, codePre: codePre, disableRun: disableRun, insertText: insertText, kernel: kernel, outputAdapter: adapter, sourceId: id, toolbarPosition: toolbarPosition }) })), _jsxs(Box, { sx: {
+                    position: 'relative',
                     margin: 0,
                     padding: 0,
-                    '& .jp-OutputArea': {
-                        fontSize: '10px',
-                    },
-                    '& .jp-OutputPrompt': {
-                    //              display: 'none',
-                    },
-                    '& .jp-OutputArea-prompt': {
-                        display: 'none',
-                        //              width: '0px',
-                    },
-                    '& pre': {
-                        fontSize: '12px',
-                        wordBreak: 'break-all',
-                        wordWrap: 'break-word',
-                        whiteSpace: 'pre-wrap',
-                    },
-                }, children: (() => {
-                    const currentAdapter = adapter || propsAdapter;
-                    return lumino ? (currentAdapter ? (_jsx(Lumino, { children: currentAdapter.outputArea })) : null) : (outputs && (_jsx(_Fragment, { children: outputs.map((output, index) => {
-                            return _jsx(OutputRenderer, { output: output }, index);
-                        }) })));
-                })() }))] }));
+                    paddingTop: '2px',
+                    minHeight: '20px',
+                }, children: [_jsxs(Box, { sx: {
+                            position: 'absolute',
+                            top: '-5px',
+                            left: 0,
+                            right: 0,
+                            zIndex: 10,
+                            display: 'flex',
+                            alignItems: 'center',
+                            justifyContent: 'space-between',
+                            margin: 0,
+                            padding: 0,
+                            backgroundColor: 'transparent',
+                            transition: 'opacity 0.2s ease-in-out',
+                            opacity: 1,
+                            pointerEvents: 'auto',
+                            height: '3px',
+                            '& span[data-component="ProgressBar"]': {
+                                height: '3px !important',
+                                backgroundColor: 'transparent !important',
+                            },
+                            '& .Progress': {
+                                height: '3px !important',
+                                backgroundColor: 'transparent !important',
+                            },
+                            '& .Progress-item': {
+                                height: '3px !important',
+                            },
+                            '& [role="progressbar"]': {
+                                height: '3px !important',
+                            },
+                        }, children: [_jsx(Box, { flexGrow: 1, sx: {
+                                    height: '3px',
+                                    backgroundColor: kernel && kernelStatus !== 'idle' ? 'rgba(128, 128, 128, 0.2)' : 'transparent',
+                                    position: 'relative',
+                                }, children: kernel && kernelStatus !== 'idle' && showKernelProgressBar && (_jsx(Box, { sx: {
+                                        position: 'absolute',
+                                        top: 0,
+                                        left: 0,
+                                        right: 0,
+                                        height: '3px',
+                                        backgroundColor: 'transparent',
+                                        '& > *': {
+                                            backgroundColor: 'transparent !important',
+                                        },
+                                    }, children: _jsx(KernelProgressBar, {}) })) }), _jsx(Box, { sx: {
+                                    marginLeft: '4px',
+                                    height: '3px',
+                                    display: 'flex',
+                                    alignItems: 'center',
+                                    '& button': {
+                                        height: '12px !important',
+                                        width: '16px !important',
+                                        minWidth: '16px !important',
+                                        padding: '0 !important',
+                                        borderRadius: '2px !important',
+                                    },
+                                    '& button svg': {
+                                        width: '10px !important',
+                                        height: '10px !important',
+                                    },
+                                }, children: _jsx(KernelActionMenu, { kernel: kernel, outputAdapter: adapter, onClearOutputs: handleClearOutputs }) })] }), outputs && (_jsx(Box, { sx: {
+                            margin: 0,
+                            padding: 0,
+                            '& .jp-OutputArea': {
+                                fontSize: '10px',
+                            },
+                            '& .jp-OutputPrompt': {
+                            //              display: 'none',
+                            },
+                            '& .jp-OutputArea-prompt': {
+                                display: 'none',
+                                //              width: '0px',
+                            },
+                            '& pre': {
+                                fontSize: '12px',
+                                wordBreak: 'break-all',
+                                wordWrap: 'break-word',
+                                whiteSpace: 'pre-wrap',
+                            },
+                        }, children: (() => {
+                            const currentAdapter = adapter || propsAdapter;
+                            return lumino ? (currentAdapter ? (_jsx(Lumino, { children: currentAdapter.outputArea })) : null) : (outputs && (_jsx(_Fragment, { children: outputs.map((output, index) => {
+                                    return _jsx(OutputRenderer, { output: output }, index);
+                                }) })));
+                        })() }))] })] }));
 };
 export default Output;
 //# sourceMappingURL=Output.js.map
\ No newline at end of file
